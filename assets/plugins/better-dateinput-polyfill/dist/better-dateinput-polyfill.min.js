/**
 * better-dateinput-polyfill: input[type=date] polyfill for better-dom
 * @version 2.0.0-rc.2 Mon, 11 Apr 2016 15:35:18 GMT
 * @link https://github.com/chemerisuk/better-dateinput-polyfill
 * @copyright 2016 Maksim Chemerisuk
 * @license MIT
 */
function _taggedTemplateLiteralLoose(e,t){return e.raw=t,e}var _templateObject=_taggedTemplateLiteralLoose(["div.","-calendar>(p.","-calendar-header>a[unselectable=on]*2+time[is=local-time data-format='MMMM yyyy' aria-hidden=true unselectable=on].","-calendar-caption)"],["div.","-calendar>(p.","-calendar-header>a[unselectable=on]*2+time[is=local-time data-format='MMMM yyyy' aria-hidden=true unselectable=on].","-calendar-caption)"]),_templateObject2=_taggedTemplateLiteralLoose(["table[aria-hidden=true].","-calendar-days>(thead>(tr>th[unselectable=on]*7>time[is=local-time data-format=E]))+(tbody.","-calendar-body>tr*6>td*7)"],["table[aria-hidden=true].","-calendar-days>(thead>(tr>th[unselectable=on]*7>time[is=local-time data-format=E]))+(tbody.","-calendar-body>tr*6>td*7)"]),_templateObject3=_taggedTemplateLiteralLoose(["table[aria-hidden=true].","-calendar-months>tbody>tr*3>td*4>time[is=local-time data-format=MMM])"],["table[aria-hidden=true].","-calendar-months>tbody>tr*3>td*4>time[is=local-time data-format=MMM])"]),_templateObject4=_taggedTemplateLiteralLoose(["time[is=local-time aria-hidden=true].","-value"],["time[is=local-time aria-hidden=true].","-value"]);!function(e,t,a,i,n,r,o,d,l){"use strict";var s=e.emmetLiteral,c=e.get("documentElement"),h=function(e,t){return"en-US"===c.lang?e:t},u=function(e){return e.toISOString().split("T")[0]},b=e.create(s(_templateObject,t,t,t)),p=e.create(s(_templateObject2,t,t)),m=e.create(s(_templateObject3,t)),f=e.create(s(_templateObject4,t)),g=function(e){return["min","max"].map(function(t){return new Date(e.get(t)||"")})};m.findAll("time").forEach(function(e,t){e.set("datetime",new Date(2001,t,9).toISOString())}),p.findAll("time").forEach(function(e,t){e.set("datetime",new Date(h(2001,2002),0,t).toISOString())}),b.append(p).append(m),e.extend("input[type=date]",{constructor:function(){if(this._isNative())return!1;var e=this.get("defaultValue"),a=b.clone(!0),i=f.clone(!0),n=a.find("."+t+"-calendar-body"),r=a.find("."+t+"-calendar-months"),o=a.find("."+t+"-calendar-caption"),d=this._invalidatePicker.bind(this,o,r,n,a);this.css("color",document.addEventListener?"transparent":this.css("background-color")).on(["focus","click"],this._focusPicker.bind(this,a)).on("blur",this._blurPicker.bind(this,a)).on("change",this._syncValue.bind(this,"value",i)).on("keydown",["which"],this._keydownPicker.bind(this,a)).value(e),i.set("data-format",this.get("data-format")||"E, dd MMM yyyy").css(this.css(["width","font","padding","text-align","border-width","box-sizing"])).css("line-height","").on("click",this._clickLabel.bind(this)).watch("datetime",d).set("datetime",e),this.before(a.hide(),i).closest("form").on("reset",this._syncValue.bind(this,"defaultValue",i)),a.watch("aria-expanded",d).on("mousedown",["target"],this._clickPicker.bind(this,a,r)).css("z-index",1+(0|this.css("z-index"))),o.on("click",this._clickPickerCaption.bind(this,a)),this.matches(":focus")&&a.show()},_isNative:function(){var e=this.get("data-polyfill"),t="orientation"in window?"mobile":"desktop";return"none"===e?!0:!e||e===t&&"all"!==e?"date"===this[0].type?!0:(this.set("defaultValue",this.value()),"_"!==this.value("_").value()):(this.set("type","text"),!1)},_invalidatePicker:function(e,a,i,n){var r,o,d,l="true"===n.get("aria-expanded"),s=new Date(this.value());s.getTime()||(s=new Date),o=s.getUTCMonth(),d=s.getUTCDate(),r=s.getUTCFullYear();var c=g(this),u=new Date(Date.UTC(r,o,0));l?a.findAll("td").forEach(function(e,a){u.setUTCMonth(a);var i=o-u.getUTCMonth(),n=t+"-calendar-";u<c[0]||u>c[1]?n+="out":i?n="":n+="today",e.set("class",n)}):(u.setUTCDate(u.getUTCDate()-u.getUTCDay()-h(1,0)),i.findAll("td").forEach(function(e){u.setUTCDate(u.getUTCDate()+1);var a=o-u.getUTCMonth(),i=t+"-calendar-";r!==u.getUTCFullYear()&&(a*=-1),u<c[0]||u>c[1]?i+="out":a>0?i+="past":0>a?i+="future":d===u.getUTCDate()?i+="today":i="",e.set("class",i).data("ts",u.getTime()).value(u.getUTCDate())})),e.set("data-format",l?"yyyy":"MMMM yyyy").set("datetime",new Date(r,o).toISOString())},_syncValue:function(e,t){var a=this.get(e);this.value(a),t.set("datetime",a)},_clickPicker:function(e,t,a){var i;if(a.matches("a")){i=new Date(this.value()),i.getTime()||(i=new Date);var n=a.next("a")[0]?-1:1;"true"===e.get("aria-expanded")?i.setUTCFullYear(i.getUTCFullYear()+n):i.setUTCMonth(i.getUTCMonth()+n)}else t.contains(a)?(a=a.closest("time"),i=new Date(this.value()),i.setUTCMonth(new Date(a.get("datetime")).getUTCMonth()),e.hide()):a.matches("td")&&(i=a.data("ts"),i&&(i=new Date(i),e.hide()));if(null!=i){var r=g(this);i<r[0]?i=r[0]:i>r[1]&&(i=r[1]),this.value(u(i)).fire("change")}return!1},_keydownPicker:function(e,t){var s,c;if(e.matches(":hidden")&&t===n)return!0;if(t===a)e.set("aria-expanded","false").toggle();else if(t===r||t===i||t===n)e.hide();else if(t===o||t===d)this.value("").fire("change");else if(t===l)e.set("aria-expanded",String("true"!==e.get("aria-expanded")));else if(c=new Date(this.value()),c.getTime()||(c=new Date),74===t||40===t?s=7:75===t||38===t?s=-7:76===t||39===t?s=1:72!==t&&37!==t||(s=-1),s){var h="true"===e.get("aria-expanded");!h||40!==t&&38!==t?!h||37!==t&&39!==t?c.setUTCDate(c.getUTCDate()+s):c.setUTCMonth(c.getUTCMonth()+(s>0?1:-1)):c.setUTCMonth(c.getUTCMonth()+(s>0?4:-4));var b=g(this);c<b[0]||c>b[1]||this.value(u(c)).fire("change")}return t===i},_blurPicker:function(e){e.hide()},_focusPicker:function(e){var t=this;if(this.get("readonly"))return!1;var a=this.offset(),i=e.offset(),n=a.height;c.clientHeight<a.bottom+i.height&&(n=-i.height),e.css("margin-top",n).set("aria-expanded","false").show(),setTimeout(function(){var e=t[0];if("selectionStart"in e)e.selectionStart=0,e.selectionEnd=0;else{var a=e.createTextRange();a.moveStart("character",0),a.collapse(),a.moveEnd("character",0),a.select()}},0)},_clickPickerCaption:function(e){e.set("aria-expanded",String("true"!==e.get("aria-expanded")))},_clickLabel:function(){this.fire("focus")}})}(window.DOM,"btr-dateinput",32,9,13,27,8,46,17),DOM.importStyles("@media screen",".btr-dateinput-value{position:absolute;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border-style:solid;border-color:transparent;pointer-events:none}.btr-dateinput-calendar{position:absolute;visibility:hidden;display:inline-block;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#FFF;border-bottom:1px solid #DDD;overflow:hidden;border-radius:3px;-webkit-box-shadow:0 .25em .5em rgba(0,0,0,.2);box-shadow:0 .25em .5em rgba(0,0,0,.2);font-family:Helvetica Neue,Helvetica,Arial,sans-serif;text-align:center;opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;-webkit-transition:.1s ease-out;transition:.1s ease-out;width:17em;max-height:18.25em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.btr-dateinput-calendar-months{position:absolute;margin-top:1px;top:2.5em;left:0;visibility:hidden}.btr-dateinput-calendar[aria-expanded=true]{max-height:14.25em}.btr-dateinput-calendar[aria-expanded=true] .btr-dateinput-calendar-months{visibility:inherit}.btr-dateinput-calendar[aria-hidden=true]{opacity:0;-webkit-transform:skew(-25deg) scaleX(.75);-ms-transform:skew(-25deg) scaleX(.75);transform:skew(-25deg) scaleX(.75)}.btr-dateinput-calendar-header{position:relative;margin:0;height:2.5em;line-height:2.5em;font-weight:700;white-space:nowrap;background:#34b3df;text-shadow:0 1px 0 #555;border-bottom:1px solid #207fb1}.btr-dateinput-calendar-header>a{width:2.5em;height:2.5em;position:absolute;left:0;top:0;color:inherit}.btr-dateinput-calendar-header>time{display:block}.btr-dateinput-calendar-header>a:before{content:'\\25C4'}.btr-dateinput-calendar-header>a:before{font-size:.85em}.btr-dateinput-calendar-header>a+a{left:auto;right:0}.btr-dateinput-calendar-header>a+a:before{content:'\\25BA'}.btr-dateinput-calendar-days,.btr-dateinput-calendar-months{width:100%;table-layout:fixed;border-spacing:0;border-collapse:collapse;color:#555;background:#FFF;border-radius:3px;border:1px solid #DDD;border-bottom:0}.btr-dateinput-calendar-days>thead{border-top:1px solid #EEE;border-bottom:1px solid #ababab;font-size:.85em;background:#DDD;font-weight:700;text-shadow:0 1px 0 #f3f3f3}.btr-dateinput-calendar td,.btr-dateinput-calendar th{width:2.5em;height:2.25em;line-height:2.25;padding:0;text-align:center}.btr-dateinput-calendar-months td{line-height:4;height:4em}.btr-dateinput-calendar-months time{display:block}.btr-dateinput-calendar-past,.btr-dateinput-calendar-future{color:#ababab}.btr-dateinput-calendar-out{color:#ababab;text-shadow:0 1px 0 #FFF}.btr-dateinput-calendar-today{color:#FFF;background-color:#34b3df;text-shadow:0 1px 0 #555;font-weight:700}.btr-dateinput-calendar-out,.btr-dateinput-calendar td:hover{background-color:#f3f3f3;background-color:rgba(0,0,0,.05)}.btr-dateinput-calendar-header>a:hover,td.btr-dateinput-calendar-today:hover{background-color:#207fb1;text-decoration:none}.btr-dateinput-value+input::-moz-placeholder{color:#ababab}.btr-dateinput-value+input:-ms-input-placeholder{color:#ababab!important}.btr-dateinput-value+input::-webkit-input-placeholder{color:#ababab}");